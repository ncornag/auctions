<html>
<head>
  <title>Auctions</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">
  <script src="http://cdn.pubnub.com/pubnub.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.16/angular.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.16/angular-route.min.js"></script>
  <script src="http://pubnub.github.io/angular-js/scripts/pubnub-angular.js"></script>
  <script src="/socket.io/socket.io.js"></script>
  <script src="socket.min.js"></script>
  <script src="app.js"></script>
</head>
<body ng-app="auctions">
<div class="container" ng-controller="MainCtrl">

  <div class="row">
    <div class="col-xs-12 col-xs-offset-0 col-md-7 col-md-offset-3">

      <div class="page-header">
        <h2>Auctions [connected: {{connected}}] via {{busImpl}}</h2>
      </div>

      <div class="row-fluid">
        <div id="container-fluid">
          <div class="row">

            <div ng-repeat="auction in auctions track by auction.id">
              <div class="thumbnail col-md-3 col-xs-3">
                <div class="innnerContainer">

                  <div class="text-center">
                    <img ng-src="http://akamaicdn.liquidationchannel.com/LCProdThumb/LCProdThumb/{{auction.img}}" class="img-responsive img-thumbnail" alt="{{auction.pid}}">
                    <span style="color:#CD0432;font-size:16px;font-weight:bold;">{{auction.timer}}</span>
                    <br/>
                    <span style="color:#0364B5;font-size:16px;font-weight:bold;">${{auction.maxBid}}({{auction.cnt}} bid{{auction.cnt==1?'':'s'}})</span>
                    <br/>
                    <span>{{auction.winner}}</span>
                    <img src="sold.png" class="{{(auction.running!=true&&auction.cnt>0)?'1':'hidden'}}" style="position:absolute;z-index:10;width:75px;right:3;bottom:10"></img>
                    <br/>
                    <form>
                      <input type="hidden" ng-model="auction.id"></input>
                      <div class="input-group">
                        <span class="input-group-addon">$</span>
                        <input type="text" class="form-control" ng-model="auction.newBid">
                      </div>
                      <button type="submit" ng-click="doBid(auction.id, auction.newBid)" class="btn btn-primary btn-block {{(auction.running&&connected==true)?'':'disabled'}}">BID NOW</button>
                    </form>
                  </div>

                </div>

              </div>
            </div>

          </div>
        </div>
      </div>

    </div>
      <button type="submit" ng-click="doRefresh()" class="btn btn-primary">Refresh</button>
    </div>

  </div>
</div>
</body>
</html>